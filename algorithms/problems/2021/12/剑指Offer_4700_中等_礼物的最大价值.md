## ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼
<!--START_SECTION:badge-->
![last modify](https://img.shields.io/static/v1?label=last%20modify&message=2025-07-08%2016%3A53%3A13&label_color=gray&color=thistle&style=flat-square)
[![](https://img.shields.io/static/v1?label=&message=%E4%B8%AD%E7%AD%89&label_color=gray&color=yellow&style=flat-square)](../../../README.md#ä¸­ç­‰)
[![](https://img.shields.io/static/v1?label=&message=%E5%89%91%E6%8C%87Offer&label_color=gray&color=green&style=flat-square)](../../../README.md#å‰‘æŒ‡offer)
[![](https://img.shields.io/static/v1?label=&message=%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92&label_color=gray&color=blue&style=flat-square)](../../../README.md#åŠ¨æ€è§„åˆ’)
<!--END_SECTION:badge-->
<!--info
tags: [åŠ¨æ€è§„åˆ’]
source: å‰‘æŒ‡Offer
level: ä¸­ç­‰
number: '4700'
name: ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼
companies: []
-->

<summary><b>é—®é¢˜ç®€è¿°</b></summary>

```txt
ç»™å®š m*n çš„æ•´å‹æ•°ç»„ gridï¼Œæ±‚ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’è·¯çº¿ä¸­å’Œçš„æœ€å¤§å€¼ï¼ˆæ¯æ¬¡å‘ä¸‹æˆ–å‘å³ç§»åŠ¨ä¸€æ ¼ï¼‰

ç¤ºä¾‹è¾“å…¥: 
    [1,3,1]
    [1,5,1]
    [4,2,1]
è¾“å‡º: 12
è§£é‡Š: è·¯å¾„ 1â†’3â†’5â†’2â†’1 å¯ä»¥æ‹¿åˆ°æœ€å¤šä»·å€¼çš„ç¤¼ç‰©
```

<details><summary><b>è¯¦ç»†æè¿°</b></summary>

```txt
åœ¨ä¸€ä¸ª m*n çš„æ£‹ç›˜çš„æ¯ä¸€æ ¼éƒ½æ”¾æœ‰ä¸€ä¸ªç¤¼ç‰©ï¼Œæ¯ä¸ªç¤¼ç‰©éƒ½æœ‰ä¸€å®šçš„ä»·å€¼ï¼ˆä»·å€¼å¤§äº 0ï¼‰ã€‚ä½ å¯ä»¥ä»æ£‹ç›˜çš„å·¦ä¸Šè§’å¼€å§‹æ‹¿æ ¼å­é‡Œçš„ç¤¼ç‰©ï¼Œå¹¶æ¯æ¬¡å‘å³æˆ–è€…å‘ä¸‹ç§»åŠ¨ä¸€æ ¼ã€ç›´åˆ°åˆ°è¾¾æ£‹ç›˜çš„å³ä¸‹è§’ã€‚ç»™å®šä¸€ä¸ªæ£‹ç›˜åŠå…¶ä¸Šé¢çš„ç¤¼ç‰©çš„ä»·å€¼ï¼Œè¯·è®¡ç®—ä½ æœ€å¤šèƒ½æ‹¿åˆ°å¤šå°‘ä»·å€¼çš„ç¤¼ç‰©ï¼Ÿ

ç¤ºä¾‹ 1:
    è¾“å…¥: 
    [
      [1,3,1],
      [1,5,1],
      [4,2,1]
    ]
    è¾“å‡º: 12
    è§£é‡Š: è·¯å¾„ 1â†’3â†’5â†’2â†’1 å¯ä»¥æ‹¿åˆ°æœ€å¤šä»·å€¼çš„ç¤¼ç‰©
 
æç¤ºï¼š
    0 < grid.length <= 200
    0 < grid[0].length <= 200

æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/li-wu-de-zui-da-jie-zhi-lcof
è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

<!-- <div align="center"><img src="./_assets/xxx.png" height="300" /></div> -->

</details>


<summary><b>æ€è·¯ï¼šåŠ¨æ€è§„åˆ’</b></summary>

**çŠ¶æ€å®šä¹‰**
- è®° `dp[i][j] := ä»å·¦ä¸Šè§’èµ°è‡³ (i,j) ä½ç½®æ—¶çš„æœ€å¤§å€¼` 

**è½¬ç§»æ–¹ç¨‹**
- `dp[i][j] = max(dp[i-1][j], dp[i][j-1]) + grid[i][j]`

**åˆå§‹çŠ¶æ€**
- `dp[i][0] = sum(grid[:i][0])`
- `dp[0][j] = sum(grid[0][:j])`


<details><summary><b>Pythonï¼šæœ¬åœ°ä¿®æ”¹</b></summary>

å› ä¸º `dp[i][j]` åªä¸ `dp[i-1][j]` å’Œ `dp[i][j-1]` æœ‰å…³ï¼Œå› æ­¤å¯ä»¥ç›´æ¥å°† grid ä½œä¸º dp çŸ©é˜µï¼ŒåŸåœ°ä¿®æ”¹ï¼›
> [é¢˜è§£ï¼šç¤¼ç‰©çš„æœ€å¤§ä»·å€¼ï¼ˆåŠ¨æ€è§„åˆ’ï¼Œæ¸…æ™°å›¾è§£ï¼‰](https://leetcode-cn.com/problems/li-wu-de-zui-da-jie-zhi-lcof/solution/mian-shi-ti-47-li-wu-de-zui-da-jie-zhi-dong-tai-gu/)

```python
class Solution:
    def maxValue(self, grid: List[List[int]]) -> int:
        m, n = len(grid), len(grid[0])

        # åˆå§‹åŒ–
        for j in range(1, n): 
            grid[0][j] += grid[0][j - 1]
        for i in range(1, m):
            grid[i][0] += grid[i - 1][0]
        
        for i in range(1, m):
            for j in range(1, n):
                grid[i][j] += max(grid[i][j - 1], grid[i - 1][j])

        return grid[-1][-1]
```

</details>


<details><summary><b>Pythonï¼šéæœ¬åœ°ä¿®æ”¹ï¼Œä¼˜åŒ–ç©ºé—´å¤æ‚åº¦</b></summary>

<br/>å› ä¸ºä¸å­˜åœ¨å›æº¯ï¼ˆæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–å‘å³ï¼‰ï¼Œæ‰€ä»¥åªéœ€è¦ä¿å­˜ä¸Šä¸€è¡Œï¼ˆæˆ–ä¸Šä¸€åˆ—ï¼‰çš„ç»“æœå³å¯ï¼›

**çŠ¶æ€å®šä¹‰**
- è®° `dp[j] := ä»å·¦ä¸Šè§’èµ°è‡³ (i,j) ä½ç½®æ—¶çš„æœ€å¤§å€¼` 

**è½¬ç§»æ–¹ç¨‹**
- `dp[j] = max(dp[j-1], dp[j]) + grid[i][j]`

    ```
    dp[j-1] + grid[i][j] è¡¨ç¤ºè·¯çº¿ä¸º grid[i-1][j-1] â†’ grid[i-1][j] â†’ grid[i][j]ï¼Œå³å…ˆå¾€å³å†å‘ä¸‹
    dp[j]   + grid[i][j] è¡¨ç¤ºè·¯çº¿ä¸º grid[i-1][j-1] â†’ grid[i][j-1] â†’ grid[i][j]ï¼Œå³å…ˆå‘ä¸‹å†å¾€å³
    ç„¶åé€‰æ‹©è¿™ä¸¤æ¡è·¯çº¿ä¸­è¾ƒå¤§çš„æ›´æ–° dp[j]
    ```

**åˆå§‹çŠ¶æ€**
- `dp[j] = sum(grid[0][:j])`

```python
class Solution:
    def maxValue(self, grid: List[List[int]]) -> int:
        if not grid or not grid[0]: return 0

        m, n = len(grid), len(grid[0])

        # åˆå§‹åŒ–ç¬¬ä¸€è¡Œçš„ç»“æœ
        dp = [grid[0][0]] + [0] * (n - 1)
        for i in range(1, n):
            dp[i] = dp[i - 1] + grid[0][i]

        for i in range(1, m):
            dp[0] = dp[0] + grid[i][0]
            for j in range(1, n):
                # dp[j-1] + grid[i][j] è¡¨ç¤º grid[i-1][j-1] â†’ grid[i][j-1] â†’ grid[i][j]
                # dp[j]   + grid[i][j] è¡¨ç¤º grid[i-1][j-1] â†’ grid[i-1][j] â†’ grid[i][j]
                # ç„¶åé€‰æ‹©è¿™ä¸¤æ¡è·¯çº¿ä¸­è¾ƒå¤§çš„æ›´æ–° dp[j]
                dp[j] = max(dp[j-1], dp[j]) + grid[i][j]
        
        return dp[n-1]
```

</details>
<!--START_SECTION:relate-->
---

### ç›¸å…³ä¸»é¢˜

<details><summary><b>åŠ¨æ€è§„åˆ’</b></summary>

> [[ä¸­ç­‰, LeetCode] ä¸€å’Œé›¶](../../2022/06/LeetCode_0474_ä¸­ç­‰_ä¸€å’Œé›¶.md)  
> [[ä¸­ç­‰, LeetCode] ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ](../../2022/06/LeetCode_0120_ä¸­ç­‰_ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ.md)  
> [[ä¸­ç­‰, LeetCode] ä¸åŒçš„äºŒå‰æœç´¢æ ‘](../../2022/03/LeetCode_0096_ä¸­ç­‰_ä¸åŒçš„äºŒå‰æœç´¢æ ‘.md)  
> [[ä¸­ç­‰, LeetCode] ä¹˜ç§¯æœ€å¤§å­æ•°ç»„](../../2022/06/LeetCode_0152_ä¸­ç­‰_ä¹˜ç§¯æœ€å¤§å­æ•°ç»„.md)  
> [[ä¸­ç­‰, LeetCode] ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºII ğŸ”¥](../../2022/06/LeetCode_0122_ä¸­ç­‰_ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºII.md)  
> [[ä¸­ç­‰, LeetCode] å®Œå…¨å¹³æ–¹æ•°](../../2022/02/LeetCode_0279_ä¸­ç­‰_å®Œå…¨å¹³æ–¹æ•°.md)  
> [[ä¸­ç­‰, LeetCode] æ‰“å®¶åŠ«èˆ](../../2022/06/LeetCode_0198_ä¸­ç­‰_æ‰“å®¶åŠ«èˆ.md)  
> [[ä¸­ç­‰, LeetCode] æ‰“å®¶åŠ«èˆII](../../2022/06/LeetCode_0213_ä¸­ç­‰_æ‰“å®¶åŠ«èˆII.md)  
> [[ä¸­ç­‰, LeetCode] æ•´æ•°æ‹†åˆ†](LeetCode_0343_ä¸­ç­‰_æ•´æ•°æ‹†åˆ†.md)  
> [[ä¸­ç­‰, LeetCode] æœ€å°è·¯å¾„å’Œ](../../2022/01/LeetCode_0064_ä¸­ç­‰_æœ€å°è·¯å¾„å’Œ.md)  
> [[ä¸­ç­‰, LeetCode] æœ€é•¿å›æ–‡å­ä¸² ğŸ”¥](../10/LeetCode_0005_ä¸­ç­‰_æœ€é•¿å›æ–‡å­ä¸².md)  
> [[ä¸­ç­‰, LeetCode] æœ€é•¿é€’å¢å­åºåˆ— ğŸ”¥](../../2022/06/LeetCode_0300_ä¸­ç­‰_æœ€é•¿é€’å¢å­åºåˆ—.md)  
> [[ä¸­ç­‰, LeetCode] è§£ç æ–¹æ³•](../../2022/02/LeetCode_0091_ä¸­ç­‰_è§£ç æ–¹æ³•.md)  
> [[ä¸­ç­‰, LeetCode] é›¶é’±å…‘æ¢](../../2022/06/LeetCode_0322_ä¸­ç­‰_é›¶é’±å…‘æ¢.md)  
> [[ä¸­ç­‰, LeetCode] é›¶é’±å…‘æ¢II](../../2022/06/LeetCode_0518_ä¸­ç­‰_é›¶é’±å…‘æ¢II.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] nä¸ªéª°å­çš„ç‚¹æ•°](../../2022/01/å‰‘æŒ‡Offer_6000_ä¸­ç­‰_nä¸ªéª°å­çš„ç‚¹æ•°.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] ä¸‘æ•° ğŸ”¥](å‰‘æŒ‡Offer_4900_ä¸­ç­‰_ä¸‘æ•°.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] å‰ªç»³å­ï¼ˆæ•´æ•°æ‹†åˆ†ï¼‰](../11/å‰‘æŒ‡Offer_1401_ä¸­ç­‰_å‰ªç»³å­ï¼ˆæ•´æ•°æ‹†åˆ†ï¼‰.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—ï¼ˆçº¦ç‘Ÿå¤«ç¯é—®é¢˜ï¼‰ ğŸ”¥](../../2022/01/å‰‘æŒ‡Offer_6200_ä¸­ç­‰_åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—ï¼ˆçº¦ç‘Ÿå¤«ç¯é—®é¢˜ï¼‰.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] æ–æ³¢é‚£å¥‘æ•°åˆ—-3ï¼ˆæŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²ï¼‰](å‰‘æŒ‡Offer_4600_ä¸­ç­‰_æ–æ³¢é‚£å¥‘æ•°åˆ—-3ï¼ˆæŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²ï¼‰.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²](å‰‘æŒ‡Offer_4800_ä¸­ç­‰_æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸².md)  
> [[ä¸­ç­‰, ç‰›å®¢] 01èƒŒåŒ… ğŸ”¥](../../2022/05/ç‰›å®¢_0145_ä¸­ç­‰_01èƒŒåŒ….md)  
> [[ä¸­ç­‰, ç‰›å®¢] ä¸‘æ•°](../../2022/03/ç‰›å®¢_0079_ä¸­ç­‰_ä¸‘æ•°.md)  
> [[ä¸­ç­‰, ç‰›å®¢] ä¸¢æ£‹å­é—®é¢˜ï¼ˆé¹°è›‹é—®é¢˜ï¼‰ ğŸ”¥](../../2022/04/ç‰›å®¢_0087_ä¸­ç­‰_ä¸¢æ£‹å­é—®é¢˜ï¼ˆé¹°è›‹é—®é¢˜ï¼‰.md)  
> [[ä¸­ç­‰, ç‰›å®¢] æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²](../../2022/05/ç‰›å®¢_0116_ä¸­ç­‰_æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸².md)  
> [[ä¸­ç­‰, ç‰›å®¢] æœ€å¤§æ­£æ–¹å½¢](../../2022/04/ç‰›å®¢_0108_ä¸­ç­‰_æœ€å¤§æ­£æ–¹å½¢.md)  
> [[ä¸­ç­‰, ç‰›å®¢] æœ€é•¿å…¬å…±å­ä¸²](../../2022/05/ç‰›å®¢_0127_ä¸­ç­‰_æœ€é•¿å…¬å…±å­ä¸².md)  
> [[ä¸­ç­‰, ç‰›å®¢] æœ€é•¿å…¬å…±å­åºåˆ—(äºŒ) ğŸ”¥](../../2022/04/ç‰›å®¢_0092_ä¸­ç­‰_æœ€é•¿å…¬å…±å­åºåˆ—(äºŒ).md)  
> [[ä¸­ç­‰, ç‰›å®¢] æœ€é•¿å›æ–‡å­ä¸²](../../2022/01/ç‰›å®¢_0017_ä¸­ç­‰_æœ€é•¿å›æ–‡å­ä¸².md)  
> [[ä¸­ç­‰, ç‰›å®¢] çŸ©é˜µçš„æœ€å°è·¯å¾„å’Œ](../../2022/03/ç‰›å®¢_0059_ä¸­ç­‰_çŸ©é˜µçš„æœ€å°è·¯å¾„å’Œ.md)  
> [[ä¸­ç­‰, ç‰›å®¢] è¿ç»­å­æ•°ç»„çš„æœ€å¤§ä¹˜ç§¯](../../2022/04/ç‰›å®¢_0083_ä¸­ç­‰_è¿ç»­å­æ•°ç»„çš„æœ€å¤§ä¹˜ç§¯.md)  
  > 
> [[å›°éš¾, LeetCode] ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºIII](../../2022/06/LeetCode_0123_å›°éš¾_ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºIII.md)  
> [[å›°éš¾, LeetCode] æœ€é•¿æœ‰æ•ˆæ‹¬å· ğŸ”¥](../../2022/10/LeetCode_0032_å›°éš¾_æœ€é•¿æœ‰æ•ˆæ‹¬å·.md)  
> [[å›°éš¾, LeetCode] æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… ğŸ”¥](../../2022/01/LeetCode_0010_å›°éš¾_æ­£åˆ™è¡¨è¾¾å¼åŒ¹é….md)  
> [[å›°éš¾, LeetCode] ç¼–è¾‘è·ç¦» ğŸ”¥](../../2022/06/LeetCode_0072_å›°éš¾_ç¼–è¾‘è·ç¦».md)  
> [[å›°éš¾, å‰‘æŒ‡Offer] æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…](../11/å‰‘æŒ‡Offer_1900_å›°éš¾_æ­£åˆ™è¡¨è¾¾å¼åŒ¹é….md)  
> [[å›°éš¾, ç‰›å®¢] æœ€é•¿ä¸Šå‡å­åºåˆ—(ä¸‰)](../../2022/04/ç‰›å®¢_0091_å›°éš¾_æœ€é•¿ä¸Šå‡å­åºåˆ—(ä¸‰).md)  
> [[å›°éš¾, ç‰›å®¢] æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…](../../2022/05/ç‰›å®¢_0122_å›°éš¾_æ­£åˆ™è¡¨è¾¾å¼åŒ¹é….md)  
> [[å›°éš¾, ç‰›å®¢] ç¼–è¾‘è·ç¦»(äºŒ)](../../2022/02/ç‰›å®¢_0035_å›°éš¾_ç¼–è¾‘è·ç¦»(äºŒ).md)  
> [[å›°éš¾, ç‰›å®¢] é€šé…ç¬¦åŒ¹é…](../../2022/03/ç‰›å®¢_0044_å›°éš¾_é€šé…ç¬¦åŒ¹é….md)  
  > 
> [[ç®€å•, LeetCode] ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº](../../2022/06/LeetCode_0121_ç®€å•_ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº.md)  
> [[ç®€å•, LeetCode] æœ€å¤§å­æ•°ç»„å’Œ](../../2022/01/LeetCode_0053_ç®€å•_æœ€å¤§å­æ•°ç»„å’Œ.md)  
> [[ç®€å•, LeetCode] çˆ¬æ¥¼æ¢¯](../../2022/01/LeetCode_0070_ç®€å•_çˆ¬æ¥¼æ¢¯.md)  
> [[ç®€å•, å‰‘æŒ‡Offer] æ–æ³¢é‚£å¥‘æ•°åˆ—](../11/å‰‘æŒ‡Offer_1001_ç®€å•_æ–æ³¢é‚£å¥‘æ•°åˆ—.md)  
> [[ç®€å•, å‰‘æŒ‡Offer] è·³å°é˜¶](../11/å‰‘æŒ‡Offer_1002_ç®€å•_è·³å°é˜¶.md)  
> [[ç®€å•, å‰‘æŒ‡Offer] è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ](å‰‘æŒ‡Offer_4200_ç®€å•_è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ.md)  
> [[ç®€å•, åä¸ºæœºè¯•] æ”¾è‹¹æœ](../../2022/05/åä¸ºæœºè¯•_061_ç®€å•_æ”¾è‹¹æœ.md)  
> [[ç®€å•, ç‰›å®¢] å…‘æ¢é›¶é’±(ä¸€)](../../2022/05/ç‰›å®¢_0126_ç®€å•_å…‘æ¢é›¶é’±(ä¸€).md)  
> [[ç®€å•, ç‰›å®¢] æ–æ³¢é‚£å¥‘æ•°åˆ—](../../2022/03/ç‰›å®¢_0065_ç®€å•_æ–æ³¢é‚£å¥‘æ•°åˆ—.md)  
> [[ç®€å•, ç‰›å®¢] æ±‚è·¯å¾„](../../2022/02/ç‰›å®¢_0034_ç®€å•_æ±‚è·¯å¾„.md)  
> [[ç®€å•, ç‰›å®¢] è·³å°é˜¶](../../2022/03/ç‰›å®¢_0068_ç®€å•_è·³å°é˜¶.md)  
> [[ç®€å•, ç‰›å®¢] è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ](../../2022/01/ç‰›å®¢_0019_ç®€å•_è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ.md)  
  > 

</details>
<!--END_SECTION:relate-->