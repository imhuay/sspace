## æ•°ç»„ä¸­çš„æœ€é•¿è¿ç»­å­åºåˆ—
<!--START_SECTION:badge-->
![last modify](https://img.shields.io/static/v1?label=last%20modify&message=2025-07-08%2016%3A53%3A13&label_color=gray&color=thistle&style=flat-square)
[![](https://img.shields.io/static/v1?label=&message=%E5%9B%B0%E9%9A%BE&label_color=gray&color=yellow&style=flat-square)](../../../README.md#å›°éš¾)
[![](https://img.shields.io/static/v1?label=&message=%E7%89%9B%E5%AE%A2&label_color=gray&color=green&style=flat-square)](../../../README.md#ç‰›å®¢)
[![](https://img.shields.io/static/v1?label=&message=%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3&label_color=gray&color=blue&style=flat-square)](../../../README.md#æ»‘åŠ¨çª—å£)
[![](https://img.shields.io/static/v1?label=&message=%E5%93%88%E5%B8%8C%E8%A1%A8%28Hash%29&label_color=gray&color=blue&style=flat-square)](../../../README.md#å“ˆå¸Œè¡¨hash)
[![](https://img.shields.io/static/v1?label=&message=%E5%B9%B6%E6%9F%A5%E9%9B%86&label_color=gray&color=blue&style=flat-square)](../../../README.md#å¹¶æŸ¥é›†)
<!--END_SECTION:badge-->
<!--info
tags: [æ»‘åŠ¨çª—å£, å“ˆå¸Œè¡¨, å¹¶æŸ¥é›†]
source: ç‰›å®¢
level: å›°éš¾
number: '0095'
name: æ•°ç»„ä¸­çš„æœ€é•¿è¿ç»­å­åºåˆ—
companies: []
-->

> [æ•°ç»„ä¸­çš„æœ€é•¿è¿ç»­å­åºåˆ—_ç‰›å®¢é¢˜éœ¸_ç‰›å®¢ç½‘](https://www.nowcoder.com/practice/eac1c953170243338f941959146ac4bf)

<summary><b>é—®é¢˜ç®€è¿°</b></summary>

```txt
ç»™å®šæ— åºæ•°ç»„arr, è¿”å›å…¶ä¸­æœ€é•¿çš„è¿ç»­åºåˆ—çš„é•¿åº¦(è¦æ±‚å€¼è¿ç»­, ä½ç½®å¯ä»¥ä¸è¿ç»­,ä¾‹å¦‚ 3,4,5,6ä¸ºè¿ç»­çš„è‡ªç„¶æ•°)
```

<!--
<details><summary><b>è¯¦ç»†æè¿°</b></summary>

```txt
```

</details>
-->


<!-- <div align="center"><img src="../../../_assets/xxx.png" height="300" /></div> -->

<summary><b>æ€è·¯1: æ’åº+æ»‘åŠ¨çª—å£</b></summary>

- å…ˆæ’åº (`O(NlngN)`);
- ç„¶åä½¿ç”¨æ»‘åŠ¨çª—å£æ¨¡æ¿;
- **æ˜“é”™ç‚¹**: è€ƒè™‘ `[0,1,1,2,3]`, ç­”æ¡ˆåº”è¯¥æ˜¯ 4 è€Œä¸æ˜¯ 3;
    - æ‰€ä»¥è¿˜è¦ä½¿ç”¨ä¸€ä¸ªå˜é‡æ¥è®°å½•åŒºé—´å†…çš„é‡å¤å€¼;

<details><summary><b>Python</b></summary>

```python
class Solution:
    def MLS(self , arr: List[int]) -> int:
        N = len(arr)
        arr.sort()

        def check(l, r, rep):  # O(1) åˆ¤æ–­æ˜¯å¦è¿ç»­
            return l < r and arr[r] - arr[l] != r - l - rep

        l, r = 0, 0  # é—­åŒºé—´çª—å£
        rep = 0  # è®°å½•åŒºé—´å†…çš„é‡å¤æ¬¡æ•°
        ret = 0
        while r < N:
            while check(l, r, rep):  # å½“ä¸æ»¡è¶³æ—¶, å³ç§» l
                if l + 1 < N and arr[l] == arr[l + 1]:
                    rep -= 1
                l += 1

            ret = max(ret, r - l + 1 - rep)
            if r + 1 < N and arr[r] == arr[r + 1]:
                rep += 1
            r += 1

        return ret
```

</details>

<summary><b>æ€è·¯2: å“ˆå¸Œè¡¨</b></summary>

> [ã€åŠ¨æ€è§„åˆ’ã€‘æœ€é•¿è¿ç»­åºåˆ— - æ±Ÿä¸çŸ¥](https://leetcode-cn.com/problems/longest-consecutive-sequence/solution/dong-tai-gui-hua-python-ti-jie-by-jalan/)
>> ä¸ç®—æ˜¯æ ‡å‡†çš„åŠ¨æ€è§„åˆ’, å› ä¸ºå®ƒä¸æ»¡è¶³æ— åæ•ˆæ€§;

- å“ˆå¸Œè¡¨ä¸­çš„ key å’Œ value åˆ†åˆ«è¡¨ç¤ºä»€ä¹ˆ?
    - åŒºé—´é•¿åº¦ `value` å’Œå®ƒçš„ä¸¤ä¸ªç«¯ç‚¹ `[key1, key2]`;
    - å¦‚æœ `value = 1`, åˆ™ `key1 == key2`;
- ç®—æ³•æµç¨‹:
    1. åˆå§‹åŒ–å“ˆå¸Œè¡¨ `book`;
    2. éå† `arr` ä¸­æ¯ä¸ª `x`;
    3. è‹¥ `x` ä¸åœ¨ `book` ä¸­, æ‰§è¡Œ:
        1. åˆå§‹åŒ– `book[x] = 1` è¡¨ç¤ºåŒºé—´ `[x, x]` çš„é•¿åº¦ä¸º 1 (ä¹Ÿå¯ä»¥ç†è§£ä¸º x å‡ºç°è¿‡çš„æ ‡è®°);
        2. æŸ¥è¯¢ `l = book[x-1]` å’Œ `r = book[x+1]`, åˆ†åˆ«è¡¨ç¤º `x` å·¦å³åŒºé—´çš„é•¿åº¦, è‹¥ä¸å­˜åœ¨åˆ™ä¸º `0`; åˆ™ `[x-l, x+r]` è¿™æ®µåŒºé—´å†…çš„é•¿åº¦ä¸º `l + 1 + r`;
        3. æ ¹æ® `book` çš„å®šä¹‰, å› ä¸º `x` æŠŠå·¦å³åŒºé—´è¿é€šäº†, æ‰€ä»¥éœ€è¦æ›´æ–° `book[x-l]` å’Œ `book[x+r]`
- ä¸ºä»€ä¹ˆ `book[x-1]` å’Œ `book[x+1]` ä»£è¡¨çš„åŒºé—´ä¸€å®šåœ¨ `x` ä¸¤ä¾§? æ¢è¨€ä¹‹, ä¸ºä»€ä¹ˆè¿™ä¸¤ä¸ªåŒºé—´æ˜¯ `[x-l, x-1]` å’Œ `[x+1, x+r]`, è€Œä¸æ˜¯ `[x-1, x+l]` å’Œ `[x-r, x+1]`? ;
    - å› ä¸ºæ‰§è¡Œä¸Šè¿°æ“ä½œçš„å‰ææ˜¯ `x` æ²¡æœ‰å‡ºç°è¿‡; å¦‚æœ `x` å‡ºç°è¿‡, å°±å’Œ `book` çš„å®šä¹‰å‘ç”Ÿäº†å†²çª, å³è¿åäº† `book[x - l] = book[x + r] = l + 1 + r` è¿™ä¸€æ­¥æ“ä½œ;

<details><summary><b>Python</b></summary>

```python
class Solution:
    def MLS(self , arr: List[int]) -> int:

        book = dict()
        ret = 0
        for x in arr:
            if x not in book:
                book[x] = 1
                l, r = book.get(x - 1, 0), book.get(x + 1, 0)
                mx = book[x - l] = book[x + r] = l + 1 + r
                ret = max(ret, mx)

        return ret
```

</details>

<summary><b>å…¶ä»–æ€è·¯</b></summary>

> [å“ˆå¸Œé›†åˆ/å“ˆå¸Œè¡¨/åŠ¨æ€è§„åˆ’/å¹¶æŸ¥é›†å››ç§æ–¹æ³• - è¶…å°ç™½](https://leetcode-cn.com/problems/longest-consecutive-sequence/solution/xiao-bai-lang-ha-xi-ji-he-ha-xi-biao-don-j5a2/)
<!--START_SECTION:relate-->
---

### ç›¸å…³ä¸»é¢˜

<details><summary><b>æ»‘åŠ¨çª—å£</b></summary>

> [[ä¸­ç­‰, LeetCode] æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² ğŸ”¥](../02/LeetCode_0003_ä¸­ç­‰_æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸².md)  
> [[ä¸­ç­‰, ç‰›å®¢] æœ€é•¿æ— é‡å¤å­æ•°ç»„](../03/ç‰›å®¢_0041_ä¸­ç­‰_æœ€é•¿æ— é‡å¤å­æ•°ç»„.md)  
  > 
> [[å›°éš¾, å‰‘æŒ‡Offer] æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼](../01/å‰‘æŒ‡Offer_5901_å›°éš¾_æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼.md)  
> [[å›°éš¾, ç‰›å®¢] æœ€å°è¦†ç›–å­ä¸²](../02/ç‰›å®¢_0028_å›°éš¾_æœ€å°è¦†ç›–å­ä¸².md)  
  > 
> [[ç®€å•, ç‰›å®¢] å‹ç¼©å­—ç¬¦ä¸²(ä¸€)](ç‰›å®¢_0101_ç®€å•_å‹ç¼©å­—ç¬¦ä¸²(ä¸€).md)  
  > 

</details>
<details><summary><b>å“ˆå¸Œè¡¨(Hash)</b></summary>

> [[ä¸­ç­‰, LeetCode] å­—æ¯å¼‚ä½è¯åˆ†ç»„ ğŸ”¥](../10/LeetCode_0049_ä¸­ç­‰_å­—æ¯å¼‚ä½è¯åˆ†ç»„.md)  
> [[ä¸­ç­‰, LeetCode] é‡å¤çš„DNAåºåˆ—](../07/LeetCode_0187_ä¸­ç­‰_é‡å¤çš„DNAåºåˆ—.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] å¤æ‚é“¾è¡¨çš„å¤åˆ¶ (æ·±æ‹·è´) ğŸ”¥](../../2021/12/å‰‘æŒ‡Offer_3500_ä¸­ç­‰_å¤æ‚é“¾è¡¨çš„å¤åˆ¶(æ·±æ‹·è´).md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²](../../2021/12/å‰‘æŒ‡Offer_4800_ä¸­ç­‰_æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸².md)  
> [[ä¸­ç­‰, ç‰›å®¢] å’Œä¸ºKçš„è¿ç»­å­æ•°ç»„](../05/ç‰›å®¢_0125_ä¸­ç­‰_å’Œä¸ºKçš„è¿ç»­å­æ•°ç»„.md)  
  > 
> [[ç®€å•, LeetCode] ä¸¤æ•°ä¹‹å’Œ ğŸ”¥](../../2021/10/LeetCode_0001_ç®€å•_ä¸¤æ•°ä¹‹å’Œ.md)  
> [[ç®€å•, å‰‘æŒ‡Offer] æ•°ç»„ä¸­é‡å¤çš„æ•°å­—](../../2021/11/å‰‘æŒ‡Offer_0300_ç®€å•_æ•°ç»„ä¸­é‡å¤çš„æ•°å­—.md)  
> [[ç®€å•, å‰‘æŒ‡Offer] ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦](../../2021/12/å‰‘æŒ‡Offer_5000_ç®€å•_ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦.md)  
> [[ç®€å•, ç‰›å®¢] ä¸¤æ•°ä¹‹å’Œ](../03/ç‰›å®¢_0061_ç®€å•_ä¸¤æ•°ä¹‹å’Œ.md)  
> [[ç®€å•, ç‰›å®¢] ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦](../02/ç‰›å®¢_0031_ç®€å•_ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦.md)  
> [[ç®€å•, ç¨‹åºå‘˜é¢è¯•é‡‘å…¸] åˆ¤å®šæ˜¯å¦äº’ä¸ºå­—ç¬¦é‡æ’](../09/ç¨‹åºå‘˜é¢è¯•é‡‘å…¸_0102_ç®€å•_åˆ¤å®šæ˜¯å¦äº’ä¸ºå­—ç¬¦é‡æ’.md)  
  > 

</details>
<!--END_SECTION:relate-->