## åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®
<!--START_SECTION:badge-->
![last modify](https://img.shields.io/static/v1?label=last%20modify&message=2025-07-08%2016%3A53%3A13&label_color=gray&color=thistle&style=flat-square)
[![](https://img.shields.io/static/v1?label=&message=%E4%B8%AD%E7%AD%89&label_color=gray&color=yellow&style=flat-square)](../../../README.md#ä¸­ç­‰)
[![](https://img.shields.io/static/v1?label=&message=LeetCode&label_color=gray&color=green&style=flat-square)](../../../README.md#leetcode)
[![](https://img.shields.io/static/v1?label=&message=%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE&label_color=gray&color=blue&style=flat-square)](../../../README.md#äºŒåˆ†æŸ¥æ‰¾)
[![](https://img.shields.io/static/v1?label=&message=LeetCode%20Hot%20100&label_color=gray&color=blue&style=flat-square)](../../../README.md#leetcode-hot-100)
<!--END_SECTION:badge-->
<!--info
tags: [äºŒåˆ†, lc100]
source: LeetCode
level: ä¸­ç­‰
number: '0034'
name: åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®
companies: []
-->

> [34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/)

<summary><b>é—®é¢˜ç®€è¿°</b></summary>

```txt
ç»™ä½ ä¸€ä¸ªæŒ‰ç…§éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚
å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ targetï¼Œè¿”å› [-1, -1]ã€‚
è¦æ±‚ï¼šæ—¶é—´å¤æ‚åº¦ O(logN)
```

<!-- 
<details><summary><b>è¯¦ç»†æè¿°</b></summary>

```txt
```

</details>
-->

<!-- <div align="center"><img src="../../../_assets/xxx.png" height="300" /></div> -->

<summary><b>æ€è·¯ï¼šäºŒåˆ†æŸ¥æ‰¾</b></summary>

- å‚è€ƒ `from bisect import bisect_left, bisect_right`
- ä»£ç ç»†èŠ‚è§æ³¨é‡Šï¼›

<details><summary><b>Python å†™æ³• 1ï¼šå·¦é—­å³å¼€åŒºé—´</b></summary>

```python
class Solution:
    def searchRange(self, nums: List[int], target: int) -> List[int]:
        if not nums: return [-1, -1]

        # æ‰¾æœ€å·¦ä¾§çš„ target
        l, r = 0, len(nums)
        while l < r:  # é€€å‡ºå¾ªç¯æ—¶ l == r
            m = l + (r - l) // 2
            if nums[m] < target:
                l = m + 1
            else:
                r = m

        # ä¸å­˜åœ¨ target
        if l == len(nums) or nums[l] != target:
            return [-1, -1]
        
        L = l
        # æ‰¾æœ€å³ä¾§çš„ target
        l, r = 0, len(nums)
        while l < r:
            m = l + (r - l) // 2
            if nums[m] <= target:  # ä¸æ‰¾æœ€å·¦ä¾§åªæœ‰ <= è¿™ä¸€å¤„åŒºåˆ«
                l = m + 1
            else:
                r = m
        
        R = r - 1  # æ³¨æ„ r æ˜¯å¼€åŒºé—´
        return [L, R]
```

</details>


<details><summary><b>Python å†™æ³• 2ï¼šåˆ©ç”¨ Python ç‰¹æ€§å‡å°‘ä»£ç é‡</b></summary>

```python
class Solution:
    def searchRange(self, nums: List[int], target: int) -> List[int]:
        if not nums: return [-1, -1]

        def bisect(l, r, com):
            while l < r:
                m = l + (r - l) // 2
                if eval(f'{nums[m]} {com} {target}'):
                    l = m + 1
                else:
                    r = m
            return l  # é€€å‡ºå¾ªç¯æ—¶ l == r

        # æ‰¾æœ€å·¦ä¾§çš„ target
        L = bisect(0, len(nums), '<')
        # ä¸å­˜åœ¨ target
        if L == len(nums) or nums[L] != target:
            return [-1, -1]
        
        R = bisect(0, len(nums), '<=') - 1
        return [L, R]
```

</details>

<!--START_SECTION:relate-->
---

### ç›¸å…³ä¸»é¢˜

<details><summary><b>äºŒåˆ†æŸ¥æ‰¾</b></summary>

> [[ä¸­ç­‰, LeetCode] ä¸¤æ•°ç›¸é™¤](../../2021/10/LeetCode_0029_ä¸­ç­‰_ä¸¤æ•°ç›¸é™¤.md)  
> [[ä¸­ç­‰, LeetCode] æœç´¢äºŒç»´çŸ©é˜µ II ğŸ”¥](../07/LeetCode_0240_ä¸­ç­‰_æœç´¢äºŒç»´çŸ©é˜µII.md)  
> [[ä¸­ç­‰, LeetCode] æœç´¢æ—‹è½¬æ’åºæ•°ç»„ ğŸ”¥](../../2021/10/LeetCode_0033_ä¸­ç­‰_æœç´¢æ—‹è½¬æ’åºæ•°ç»„.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer2] æ•´æ•°é™¤æ³• ğŸ”¥](../09/å‰‘æŒ‡Offer2_001_ä¸­ç­‰_æ•´æ•°é™¤æ³•.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾](../../2021/11/å‰‘æŒ‡Offer_0400_ä¸­ç­‰_äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹ï¼ˆå¿«é€Ÿå¹‚ï¼‰ ğŸ”¥](../../2021/11/å‰‘æŒ‡Offer_1600_ä¸­ç­‰_æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹ï¼ˆå¿«é€Ÿå¹‚ï¼‰.md)  
> [[ä¸­ç­‰, ç‰›å®¢] äºŒåˆ†æŸ¥æ‰¾-II](../04/ç‰›å®¢_0105_ä¸­ç­‰_äºŒåˆ†æŸ¥æ‰¾-II.md)  
> [[ä¸­ç­‰, ç‰›å®¢] äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾](../02/ç‰›å®¢_0029_ä¸­ç­‰_äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾.md)  
> [[ä¸­ç­‰, ç‰›å®¢] å¯»æ‰¾å³°å€¼ ğŸ”¥](../04/ç‰›å®¢_0107_ä¸­ç­‰_å¯»æ‰¾å³°å€¼.md)  
> [[ä¸­ç­‰, ç‰›å®¢] çŸ©é˜µå…ƒç´ æŸ¥æ‰¾](../04/ç‰›å®¢_0086_ä¸­ç­‰_çŸ©é˜µå…ƒç´ æŸ¥æ‰¾.md)  
  > 
> [[å›°éš¾, LeetCode] å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•° ğŸ”¥](../02/LeetCode_0004_å›°éš¾_å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°.md)  
> [[å›°éš¾, LeetCode] å°†æ•°æ®æµå˜ä¸ºå¤šä¸ªä¸ç›¸äº¤åŒºé—´](../../2021/10/LeetCode_0352_å›°éš¾_å°†æ•°æ®æµå˜ä¸ºå¤šä¸ªä¸ç›¸äº¤åŒºé—´.md)  
> [[å›°éš¾, ç‰›å®¢] åœ¨ä¸¤ä¸ªé•¿åº¦ç›¸ç­‰çš„æ’åºæ•°ç»„ä¸­æ‰¾åˆ°ä¸Šä¸­ä½æ•°](../02/ç‰›å®¢_0036_å›°éš¾_åœ¨ä¸¤ä¸ªé•¿åº¦ç›¸ç­‰çš„æ’åºæ•°ç»„ä¸­æ‰¾åˆ°ä¸Šä¸­ä½æ•°.md)  
  > 
> [[ç®€å•, LeetCode] x çš„å¹³æ–¹æ ¹ ğŸ”¥](LeetCode_0069_ç®€å•_xçš„å¹³æ–¹æ ¹.md)  
> [[ç®€å•, LeetCode] æ’åˆ—ç¡¬å¸](../../2021/10/LeetCode_0441_ç®€å•_æ’åˆ—ç¡¬å¸.md)  
> [[ç®€å•, å‰‘æŒ‡Offer2] å±±å³°æ•°ç»„çš„é¡¶éƒ¨](../09/å‰‘æŒ‡Offer2_069_ç®€å•_å±±å³°æ•°ç»„çš„é¡¶éƒ¨.md)  
> [[ç®€å•, å‰‘æŒ‡Offer] åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—](../01/å‰‘æŒ‡Offer_5302_ç®€å•_åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—.md)  
> [[ç®€å•, å‰‘æŒ‡Offer] æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—](../../2021/11/å‰‘æŒ‡Offer_1100_ç®€å•_æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—.md)  
> [[ç®€å•, å‰‘æŒ‡Offer] æ±‚0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—](../01/å‰‘æŒ‡Offer_5301_ç®€å•_æ±‚0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—.md)  
> [[ç®€å•, ç‰›å®¢] åœ¨æ—‹è½¬è¿‡çš„æœ‰åºæ•°ç»„ä¸­å¯»æ‰¾ç›®æ ‡å€¼](../03/ç‰›å®¢_0048_ç®€å•_åœ¨æ—‹è½¬è¿‡çš„æœ‰åºæ•°ç»„ä¸­å¯»æ‰¾ç›®æ ‡å€¼.md)  
> [[ç®€å•, ç‰›å®¢] æ•°å­—åœ¨å‡åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°](../03/ç‰›å®¢_0074_ç®€å•_æ•°å­—åœ¨å‡åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°.md)  
> [[ç®€å•, ç‰›å®¢] æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—](../03/ç‰›å®¢_0071_ç®€å•_æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—.md)  
> [[ç®€å•, ç‰›å®¢] æ±‚å¹³æ–¹æ ¹ ğŸ”¥](../02/ç‰›å®¢_0032_ç®€å•_æ±‚å¹³æ–¹æ ¹.md)  
  > 

</details>
<details><summary><b>LeetCode Hot 100</b></summary>

> [[ä¸­ç­‰, LeetCode] ä¸‰æ•°ä¹‹å’Œ ğŸ”¥](../../2021/10/LeetCode_0015_ä¸­ç­‰_ä¸‰æ•°ä¹‹å’Œ.md)  
> [[ä¸­ç­‰, LeetCode] ä¸‹ä¸€ä¸ªæ’åˆ— ğŸ”¥](LeetCode_0031_ä¸­ç­‰_ä¸‹ä¸€ä¸ªæ’åˆ—.md)  
> [[ä¸­ç­‰, LeetCode] ä¸¤æ•°ç›¸åŠ  ğŸ”¥](../../2021/10/LeetCode_0002_ä¸­ç­‰_ä¸¤æ•°ç›¸åŠ .md)  
> [[ä¸­ç­‰, LeetCode] å…¨æ’åˆ— ğŸ”¥](LeetCode_0046_ä¸­ç­‰_å…¨æ’åˆ—.md)  
> [[ä¸­ç­‰, LeetCode] å…¨æ’åˆ—II ğŸ”¥](LeetCode_0047_ä¸­ç­‰_å…¨æ’åˆ—II.md)  
> [[ä¸­ç­‰, LeetCode] åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªç»“ç‚¹ ğŸ”¥](../01/LeetCode_0019_ä¸­ç­‰_åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªç»“ç‚¹.md)  
> [[ä¸­ç­‰, LeetCode] å­—æ¯å¼‚ä½è¯åˆ†ç»„ ğŸ”¥](LeetCode_0049_ä¸­ç­‰_å­—æ¯å¼‚ä½è¯åˆ†ç»„.md)  
> [[ä¸­ç­‰, LeetCode] æ‹¬å·ç”Ÿæˆ ğŸ”¥](LeetCode_0022_ä¸­ç­‰_æ‹¬å·ç”Ÿæˆ.md)  
> [[ä¸­ç­‰, LeetCode] æœç´¢æ—‹è½¬æ’åºæ•°ç»„ ğŸ”¥](../../2021/10/LeetCode_0033_ä¸­ç­‰_æœç´¢æ—‹è½¬æ’åºæ•°ç»„.md)  
> [[ä¸­ç­‰, LeetCode] æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´  ğŸ”¥](LeetCode_0215_ä¸­ç­‰_æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ .md)  
> [[ä¸­ç­‰, LeetCode] æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² ğŸ”¥](../02/LeetCode_0003_ä¸­ç­‰_æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸².md)  
> [[ä¸­ç­‰, LeetCode] æœ€é•¿å›æ–‡å­ä¸² ğŸ”¥](../../2021/10/LeetCode_0005_ä¸­ç­‰_æœ€é•¿å›æ–‡å­ä¸².md)  
> [[ä¸­ç­‰, LeetCode] ç”µè¯å·ç çš„å­—æ¯ç»„åˆ ğŸ”¥](LeetCode_0017_ä¸­ç­‰_ç”µè¯å·ç çš„å­—æ¯ç»„åˆ.md)  
> [[ä¸­ç­‰, LeetCode] ç››æœ€å¤šæ°´çš„å®¹å™¨ ğŸ”¥](../../2021/10/LeetCode_0011_ä¸­ç­‰_ç››æœ€å¤šæ°´çš„å®¹å™¨.md)  
> [[ä¸­ç­‰, LeetCode] ç»„åˆæ€»å’Œ ğŸ”¥](LeetCode_0039_ä¸­ç­‰_ç»„åˆæ€»å’Œ.md)  
> [[ä¸­ç­‰, LeetCode] ç»„åˆæ€»å’ŒII ğŸ”¥](LeetCode_0040_ä¸­ç­‰_ç»„åˆæ€»å’ŒII.md)  
  > 
> [[å›°éš¾, LeetCode] Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ ğŸ”¥](../02/LeetCode_0025_å›°éš¾_Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨.md)  
> [[å›°éš¾, LeetCode] åˆå¹¶Kä¸ªå‡åºé“¾è¡¨ ğŸ”¥](LeetCode_0023_å›°éš¾_åˆå¹¶Kä¸ªå‡åºé“¾è¡¨.md)  
> [[å›°éš¾, LeetCode] å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•° ğŸ”¥](../02/LeetCode_0004_å›°éš¾_å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°.md)  
> [[å›°éš¾, LeetCode] æ¥é›¨æ°´ ğŸ”¥](../../2021/10/LeetCode_0042_å›°éš¾_æ¥é›¨æ°´.md)  
> [[å›°éš¾, LeetCode] æœ€é•¿æœ‰æ•ˆæ‹¬å· ğŸ”¥](LeetCode_0032_å›°éš¾_æœ€é•¿æœ‰æ•ˆæ‹¬å·.md)  
> [[å›°éš¾, LeetCode] æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… ğŸ”¥](../01/LeetCode_0010_å›°éš¾_æ­£åˆ™è¡¨è¾¾å¼åŒ¹é….md)  
  > 
> [[ç®€å•, LeetCode] ä¸¤æ•°ä¹‹å’Œ ğŸ”¥](../../2021/10/LeetCode_0001_ç®€å•_ä¸¤æ•°ä¹‹å’Œ.md)  
> [[ç®€å•, LeetCode] åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ ğŸ”¥](../../2021/10/LeetCode_0021_ç®€å•_åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨.md)  
> [[ç®€å•, LeetCode] æœ‰æ•ˆçš„æ‹¬å· ğŸ”¥](../03/LeetCode_0020_ç®€å•_æœ‰æ•ˆçš„æ‹¬å·.md)  
  > 

</details>
<!--END_SECTION:relate-->