## åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯å¦ä¸ºæœç´¢äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘
<!--START_SECTION:badge-->
![last modify](https://img.shields.io/static/v1?label=last%20modify&message=2025-07-08%2016%3A53%3A13&label_color=gray&color=thistle&style=flat-square)
[![](https://img.shields.io/static/v1?label=&message=%E4%B8%AD%E7%AD%89&label_color=gray&color=yellow&style=flat-square)](../../../README.md#ä¸­ç­‰)
[![](https://img.shields.io/static/v1?label=&message=%E7%89%9B%E5%AE%A2&label_color=gray&color=green&style=flat-square)](../../../README.md#ç‰›å®¢)
[![](https://img.shields.io/static/v1?label=&message=%E6%A0%91%E5%BD%A2%E9%80%92%E5%BD%92&label_color=gray&color=blue&style=flat-square)](../../../README.md#æ ‘å½¢é€’å½’)
<!--END_SECTION:badge-->
<!--info
tags: [TreeDP]
source: ç‰›å®¢
level: ä¸­ç­‰
number: '0060'
name: åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯å¦ä¸ºæœç´¢äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘
companies: []
-->

> [åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯å¦ä¸ºæœç´¢äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘_ç‰›å®¢é¢˜éœ¸_ç‰›å®¢ç½‘](https://www.nowcoder.com/practice/f31fc6d3caf24e7f8b4deb5cd9b5fa97)

<summary><b>é—®é¢˜ç®€è¿°</b></summary>

```txt
ç»™å®šä¸€æ£µäºŒå‰æ ‘, å·²çŸ¥å…¶ä¸­çš„èŠ‚ç‚¹æ²¡æœ‰é‡å¤å€¼, è¯·åˆ¤æ–­è¯¥äºŒå‰æ ‘æ˜¯å¦ä¸ºæœç´¢äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘.
è¾“å‡ºæè¿°: åˆ†åˆ«è¾“å‡ºæ˜¯å¦ä¸ºæœç´¢äºŒå‰æ ‘ã€å®Œå…¨äºŒå‰æ ‘.
```

<!--
<details><summary><b>è¯¦ç»†æè¿°</b></summary>

```txt
```

</details>
-->


<!-- <div align="center"><img src="../../../_assets/xxx.png" height="300" /></div> -->

<summary><b>æ€è·¯</b></summary>

- åˆ¤æ–­äºŒå‰æœç´¢æ ‘çš„æ¡ä»¶:
    - å½“å‰èŠ‚ç‚¹çš„å€¼å¤§äºå·¦æ ‘çš„æœ€å¤§å€¼, å°äºå³æ ‘çš„æœ€å°å€¼, ä¸”**å·¦å³å­æ ‘éƒ½æ˜¯äºŒå‰æœç´¢æ ‘**;
- åˆ¤æ–­å®Œå…¨äºŒå‰æ ‘çš„æ¡ä»¶:
    - å·¦å³å­æ ‘éƒ½æ˜¯æ»¡äºŒå‰æ ‘, ä¸”é«˜åº¦ç›¸åŒ (æ»¡äºŒå‰æ ‘) ;
    - å·¦å³å­æ ‘éƒ½æ˜¯æ»¡äºŒå‰æ ‘, ä¸”å·¦å­æ ‘çš„é«˜åº¦+1;
    - å·¦å­æ ‘æ˜¯æ»¡äºŒå‰æ ‘, å³å­æ ‘æ˜¯å®Œå…¨äºŒå‰æ ‘, ä¸”é«˜åº¦ç›¸åŒ;
    - å·¦å­æ ‘æ˜¯å®Œå…¨äºŒå‰æ ‘, å³å­æ ‘æ˜¯æ»¡äºŒå‰æ ‘, ä¸”å·¦å­æ ‘çš„é«˜åº¦+1;
- ç»¼ä¸Š:
    - æˆ‘ä»¬éœ€è¦å­˜å‚¨ä¿¡æ¯æœ‰: æœ€å¤§å€¼ã€æœ€å°å€¼ã€é«˜åº¦ã€æ˜¯å¦äºŒå‰æœç´¢æ ‘ã€æ˜¯å¦æ»¡äºŒå‰æ ‘ã€æ˜¯å¦å®Œå…¨äºŒå‰æ ‘;
    - å¯¹ç©ºèŠ‚ç‚¹, åˆå§‹åŒ–ä¸º: æ— ç©·å°ã€æ— ç©·å¤§ã€0ã€æ˜¯ã€æ˜¯ã€æ˜¯;
- è¯¦è§ä»£ç ;

<details><summary><b>Python</b></summary>

```python
class Solution:
    def judgeIt(self , root: TreeNode) -> List[bool]:

        from dataclasses import dataclass

        @dataclass
        class Info:
            mx: int  # æ•´æ£µæ ‘çš„æœ€å¤§å€¼
            mi: int  # æ•´æ£µæ ‘çš„æœ€å°å€¼
            height: int    # æ ‘çš„é«˜åº¦
            is_bst: bool   # æ˜¯å¦æœç´¢äºŒå‰æ ‘
            is_full: bool  # æ˜¯å¦æ»¡äºŒå‰æ ‘
            is_cbt: bool   # æ˜¯å¦å®Œå…¨äºŒå‰æ ‘

        def dfs(x):
            if not x: return Info(float('-inf'), float('inf'), 0, True, True, True)

            l, r = dfs(x.left), dfs(x.right)
            # ä½¿ç”¨å·¦å³å­æ ‘çš„ä¿¡æ¯å¾—åˆ°å½“å‰èŠ‚ç‚¹çš„ä¿¡æ¯
            mx = max(x.val, r.mx)
            mi = min(x.val, l.mi)
            height = max(l.height, r.height) + 1
            is_bst = l.is_bst and r.is_bst and l.mx < x.val < r.mi
            is_full = l.is_full and r.is_full and l.height == r.height
            is_cbt = is_full or \
                l.is_full and r.is_full and l.height - 1 == r.height or \
                l.is_full and r.is_cbt and l.height == r.height or \
                l.is_cbt and r.is_full and l.height - 1 == r.height

            return Info(mx, mi, height, is_bst, is_full, is_cbt)

        info = dfs(root)
        return info.is_bst, info.is_cbt
```

</details>


<!--START_SECTION:relate-->
---

### ç›¸å…³ä¸»é¢˜

<details><summary><b>æ ‘å½¢é€’å½’</b></summary>

> [[ä¸­ç­‰, LeetCode] æ‰“å®¶åŠ«èˆIII](../06/LeetCode_0337_ä¸­ç­‰_æ‰“å®¶åŠ«èˆIII.md)  
> [[ä¸­ç­‰, LeetCode] è·¯å¾„æ€»å’ŒIII](../06/LeetCode_0437_ä¸­ç­‰_è·¯å¾„æ€»å’ŒIII.md)  
  > 
> [[å›°éš¾, LeetCode] äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ](../02/LeetCode_0124_å›°éš¾_äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ.md)  
  > 
> [[ç®€å•, LeetCode] å¹³è¡¡äºŒå‰æ ‘ ğŸ”¥](../09/LeetCode_0110_ç®€å•_å¹³è¡¡äºŒå‰æ ‘.md)  
> [[ç®€å•, å‰‘æŒ‡Offer] äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ](../01/å‰‘æŒ‡Offer_6802_ç®€å•_äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ.md)  
  > 

</details>
<!--END_SECTION:relate-->