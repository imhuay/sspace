## å’Œä¸ºKçš„è¿ç»­å­æ•°ç»„
<!--START_SECTION:badge-->

![last modify](https://img.shields.io/static/v1?label=last%20modify&message=2025-07-08%2016%3A53%3A13&label_color=gray&color=thistle&style=flat-square)
[![](https://img.shields.io/static/v1?label=&message=%E4%B8%AD%E7%AD%89&label_color=gray&color=yellow&style=flat-square)](../../../README.md#ä¸­ç­‰)
[![](https://img.shields.io/static/v1?label=&message=%E7%89%9B%E5%AE%A2&label_color=gray&color=green&style=flat-square)](../../../README.md#ç‰›å®¢)
[![](https://img.shields.io/static/v1?label=&message=%E5%89%8D%E7%BC%80%E5%92%8C&label_color=gray&color=blue&style=flat-square)](../../../README.md#å‰ç¼€å’Œ)
[![](https://img.shields.io/static/v1?label=&message=%E5%93%88%E5%B8%8C%E8%A1%A8%28Hash%29&label_color=gray&color=blue&style=flat-square)](../../../README.md#å“ˆå¸Œè¡¨hash)

<!--END_SECTION:badge-->
<!--info
tags: [å‰ç¼€å’Œ, å“ˆå¸Œè¡¨]
source: ç‰›å®¢
level: ä¸­ç­‰
number: '0125'
name: å’Œä¸ºKçš„è¿ç»­å­æ•°ç»„
companies: []
-->

> [å’Œä¸ºKçš„è¿ç»­å­æ•°ç»„_ç‰›å®¢é¢˜éœ¸_ç‰›å®¢ç½‘](https://www.nowcoder.com/practice/704c8388a82e42e58b7f5751ec943a11)

<summary><b>é—®é¢˜ç®€è¿°</b></summary>

```txt
ç»™å®šä¸€ä¸ªæ— åºæ•°ç»„ arr , å…¶ä¸­å…ƒç´ å¯æ­£ã€å¯è´Ÿã€å¯0ã€‚ç»™å®šä¸€ä¸ªæ•´æ•° k ï¼Œæ±‚ arr æ‰€æœ‰è¿ç»­å­æ•°ç»„ä¸­ç´¯åŠ å’Œä¸ºkçš„æœ€é•¿è¿ç»­å­æ•°ç»„é•¿åº¦ã€‚ä¿è¯è‡³å°‘å­˜åœ¨ä¸€ä¸ªåˆæ³•çš„è¿ç»­å­æ•°ç»„ã€‚
[1,2,3]çš„è¿ç»­å­æ•°ç»„æœ‰[1,2]ï¼Œ[2,3]ï¼Œ[1,2,3] ï¼Œä½†æ˜¯[1,3]ä¸æ˜¯

è¦æ±‚ï¼šæ—¶é—´å¤æ‚åº¦ O(n)ï¼Œç©ºé—´å¤æ‚åº¦ O(n)
```

<!-- 
<details><summary><b>è¯¦ç»†æè¿°</b></summary>

```txt
```

</details>
-->

<!-- <div align="center"><img src="../../../_assets/xxx.png" height="300" /></div> -->

<summary><b>æ€è·¯ï¼šå‰ç¼€å’Œ+å“ˆå¸Œè¡¨</b></summary>

- è®°å½“å‰ä½ç½®çš„å‰ç¼€å’Œä¸º `s`ï¼›
- åˆ©ç”¨å‰ç¼€å’Œ+å“ˆå¸Œè¡¨ï¼Œå¯ä»¥å¿«é€Ÿåˆ¤æ–­ `s - k` æ˜¯å¦å­˜åœ¨ï¼›è‹¥å­˜åœ¨è¡¨æ˜æœ‰ä¸€ç»„è¿ç»­çš„å­æ•°ç»„å’Œä¸º `k`;
- å®šä¹‰ `book = {s: i}` è¡¨ç¤ºæœ€æ—©åœ¨ `i` ä½ç½®å‡ºç°å‰ç¼€å’Œä¸º `s`ï¼›
    - æ¯”å¦‚ `arr = [1,1,-1,1]`ï¼Œå…¶ä¸­ `s[1] = 0` è€Œä¸æ˜¯ `3`ï¼›
- ç®—æ³•ï¼š
    ```python
    s = 0  # å‰ç¼€å’Œ
    for i in range(N):
        s += arr[i] 
        if s - k in book:
            if i - book[s - k] > mx_len:
                mx_len = i - book[s - k]
        if s not in book:  # è®°å½•å‰ç¼€å’Œçš„æœ€æ—©ä½ç½®
            book[s] = i
    ```
- Tips:
    - åˆå§‹åŒ– `book` æ—¶åŠ å…¥ `book[0] = -1` å…¼å®¹ `sum(arr[0:i]) == k` çš„æƒ…å†µï¼›
        - æ¯”å¦‚ `arr = [1,2,3,6], k = 6`ï¼Œéå†åˆ° 3 æ—¶ï¼Œ`book[6] = 2`ï¼Œæ­¤æ—¶ `book[6-6] = book[0] = -1` å­˜åœ¨ï¼Œæ›´æ–°æœ€å¤§é•¿åº¦ä¸º `2 - (-1) = 3`

<details><summary><b>Python</b></summary>

```python
```

</details>

<!--START_SECTION:relate-->

---

### ç›¸å…³ä¸»é¢˜

<details><summary><b>å‰ç¼€å’Œ</b></summary>

> [[ä¸­ç­‰, LeetCode] è·¯å¾„æ€»å’ŒIII](../06/LeetCode_0437_ä¸­ç­‰_è·¯å¾„æ€»å’ŒIII.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] æ„å»ºä¹˜ç§¯æ•°ç»„](../01/å‰‘æŒ‡Offer_6600_ä¸­ç­‰_æ„å»ºä¹˜ç§¯æ•°ç»„.md)  
  > 

</details>
<details><summary><b>å“ˆå¸Œè¡¨(Hash)</b></summary>

> [[ä¸­ç­‰, LeetCode] å­—æ¯å¼‚ä½è¯åˆ†ç»„ ğŸ”¥](../10/LeetCode_0049_ä¸­ç­‰_å­—æ¯å¼‚ä½è¯åˆ†ç»„.md)  
> [[ä¸­ç­‰, LeetCode] é‡å¤çš„DNAåºåˆ—](../07/LeetCode_0187_ä¸­ç­‰_é‡å¤çš„DNAåºåˆ—.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] å¤æ‚é“¾è¡¨çš„å¤åˆ¶ï¼ˆæ·±æ‹·è´ï¼‰ ğŸ”¥](../../2021/12/å‰‘æŒ‡Offer_3500_ä¸­ç­‰_å¤æ‚é“¾è¡¨çš„å¤åˆ¶ï¼ˆæ·±æ‹·è´ï¼‰.md)  
> [[ä¸­ç­‰, å‰‘æŒ‡Offer] æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²](../../2021/12/å‰‘æŒ‡Offer_4800_ä¸­ç­‰_æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸².md)  
  > 
> [[å›°éš¾, ç‰›å®¢] æ•°ç»„ä¸­çš„æœ€é•¿è¿ç»­å­åºåˆ—](../04/ç‰›å®¢_0095_å›°éš¾_æ•°ç»„ä¸­çš„æœ€é•¿è¿ç»­å­åºåˆ—.md)  
  > 
> [[ç®€å•, LeetCode] ä¸¤æ•°ä¹‹å’Œ ğŸ”¥](../../2021/10/LeetCode_0001_ç®€å•_ä¸¤æ•°ä¹‹å’Œ.md)  
> [[ç®€å•, å‰‘æŒ‡Offer] æ•°ç»„ä¸­é‡å¤çš„æ•°å­—](../../2021/11/å‰‘æŒ‡Offer_0300_ç®€å•_æ•°ç»„ä¸­é‡å¤çš„æ•°å­—.md)  
> [[ç®€å•, å‰‘æŒ‡Offer] ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦](../../2021/12/å‰‘æŒ‡Offer_5000_ç®€å•_ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦.md)  
> [[ç®€å•, ç‰›å®¢] ä¸¤æ•°ä¹‹å’Œ](../03/ç‰›å®¢_0061_ç®€å•_ä¸¤æ•°ä¹‹å’Œ.md)  
> [[ç®€å•, ç‰›å®¢] ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦](../02/ç‰›å®¢_0031_ç®€å•_ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦.md)  
> [[ç®€å•, ç¨‹åºå‘˜é¢è¯•é‡‘å…¸] åˆ¤å®šæ˜¯å¦äº’ä¸ºå­—ç¬¦é‡æ’](../09/ç¨‹åºå‘˜é¢è¯•é‡‘å…¸_0102_ç®€å•_åˆ¤å®šæ˜¯å¦äº’ä¸ºå­—ç¬¦é‡æ’.md)  
  > 

</details>

<!--END_SECTION:relate-->