利用搜索引擎做短语质量评估
===
<!--START_SECTION:badge-->

![last modify](https://img.shields.io/static/v1?label=last%20modify&message=2025-08-22%2003%3A35%3A56&color=yellowgreen&style=flat-square)

<!--END_SECTION:badge-->
<!--info
date: 2025-08-22 19:29:46
top: false
draft: false
hidden: true
level: 0
tag: []
-->

<!--START_SECTION:keywords-->
> ***Keywords**: [短语挖掘](../07/短语挖掘.md)*
<!--END_SECTION:keywords-->

<!--START_SECTION:paper_title-->
<!--END_SECTION:paper_title-->

<!--START_SECTION:toc-->
- [背景](#背景)
    - [优点](#优点)
- [方法](#方法)
    - [1. 数据输入](#1-数据输入)
    - [2. 构造正负样本](#2-构造正负样本)
    - [3. 标签质量模型](#3-标签质量模型)
        - [方案 1) 传统模型](#方案-1-传统模型)
        - [方案 2) BERT 等语义模型](#方案-2-bert-等语义模型)
<!--END_SECTION:toc-->

<!--

<div align='center'><img src='path/to/xxx.png' height='300'/></div>

<details><summary><b>点击展开</b></summary>
</details>

[xxx - imhuay/studis](https://github.com/imhuay/studies/blob/master/notes/_archives/2022/04/xxx.md)

特殊符号: 
  空格: <&nbsp;>
-->

---

## 背景

- 使用 [AutoPhrase](./AutoPhrase备忘.md) 挖掘到候选短语后, 希望进一步过滤;
- 这是一个利用 Google 搜索引擎进行**弱监督**的启发式方法;


### 优点
- **外部知识**：Google Search 等于是一个免费的大规模知识检索 API, 利用它能在冷启动阶段有效降低噪声;
- **低标注成本**：弱监督 / 启发式标注, 避免了大规模人工筛选;
- **可迁移性**：方便迁移到其他领域（如电商商品标签、景点 POI 名称等）


## 方法

**核心思路**：用搜索引擎的“外部知识 + 相关性排序”来给候选标签贴上“可能有效 / 可能无效”的弱标签;

### 1. 数据输入
- 从 **AutoPhrase** 或其他流程中得到的 **候选标签池**;
- 这些候选标签质量参差不齐, 有的是标准名称, 有的可能是噪声短语;

### 2. 构造正负样本
- 对候选标签发起 **Google 搜索**;
- 启发式判断搜索结果与候选标签所期望的结果是否一致, 以"菜品"短语为例：
    - 检查前若干条返回结果, 如果: 
        - 存在大量**完全匹配的高亮**标记,
        - 出现热门的领域相关网站 (如菜谱, 外卖等), 
        - 则标记为**正样本**; 反之为**负样本**;

### 3. 标签质量模型

#### 方案 1) 传统模型

1. **特征工程**
   - **统计特征**：标签长度、出现频率、n-gram PMI、IDF、上下文 KL 散度, 语种等;
   - **语义特征**：候选标签与种子标签的向量相似度;
   - **外部信号**：Google 搜索得分 (在搜索结果中出现的比例/次数), 搜索 CTR、CVR 等;
   - **语言特征**：是否命中常见的 POS 模式 (词性标注) 等;

2. **模型选择**
   - 推荐轻量级树模型（LightGBM/XGBoost）  
   - 优势：对稀疏特征+非线性关系建模能力好
   - 输出标签质量分数 $\in \lbrack 0,1 \rbrack$


#### 方案 2) BERT 等语义模型

- **输入**: 
    - 标签 + topN 搜索结果（标题、摘要、结构化字段等）, 用特殊 token 分隔帮助模型识别边界 (如 \[TAG\]、\[DOC1\] 等), 保留关键实体或属性词, 控制总长度;
- **训练**: 
    - 那把 "标签 + 搜索结果" 直接拼成一段文本丢给 BERT/DeBERTa/ERNIE 之类的编码器, 然后接一个分类头;
